"use strict";var CFBScheduleApp=(()=>{var f=Object.defineProperty;var G=Object.getOwnPropertyDescriptor;var D=Object.getOwnPropertyNames;var L=Object.prototype.hasOwnProperty;var h=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(i,r)=>(typeof require<"u"?require:i)[r]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var O=(n,i)=>{for(var r in i)f(n,r,{get:i[r],enumerable:!0})},M=(n,i,r,u)=>{if(i&&typeof i=="object"||typeof i=="function")for(let s of D(i))!L.call(n,s)&&s!==r&&f(n,s,{get:()=>i[s],enumerable:!(u=G(i,s))||u.enumerable});return n};var R=n=>M(f({},"__esModule",{value:!0}),n);var U={};O(U,{default:()=>H});var l=h("react"),e=h("react/jsx-runtime"),B=()=>{let[n,i]=(0,l.useState)(null),[r,u]=(0,l.useState)([]),[s,w]=(0,l.useState)({week:"",conference:"",status:"",rankedOnly:!1}),[p,g]=(0,l.useState)(!1),[N,k]=(0,l.useState)(!1),m=(0,l.useCallback)((a,t)=>t?"completed":a.includes("Q")||a.includes("Half")||a.includes("OT")?"live":"scheduled",[]),y=(0,l.useCallback)(()=>r?r.some(a=>m(a.status,a.isCompleted)==="live"):!1,[r,m]),d=(0,l.useCallback)(async()=>{g(!0),k(!1);try{let a=new URL("/api/cfb-schedule",window.location.origin);s.week&&a.searchParams.set("week",s.week);let t=await fetch(a);if(!t.ok)throw new Error(`HTTP ${t.status}`);let o=await t.json();i(o)}catch(a){console.error("Error loading schedule:",a),k(!0)}finally{g(!1)}},[s.week]),T=(0,l.useCallback)(()=>{if(!n?.games)return;let a=n.games.filter(t=>!(s.week&&t.week.toString()!==s.week||s.conference&&!(t.homeTeam.conference===s.conference||t.awayTeam.conference===s.conference)||s.status&&m(t.status,t.isCompleted)!==s.status||s.rankedOnly&&!(t.homeTeam.rank||t.awayTeam.rank)));u(a)},[n,s,m]),C=(0,l.useCallback)(a=>{let t={};return a.forEach(o=>{t[o.date]||(t[o.date]=[]);let c=t[o.date];c&&c.push(o)}),Object.keys(t).forEach(o=>{let c=t[o];c&&c.sort((E,F)=>new Date(E.datetime).getTime()-new Date(F.datetime).getTime())}),t},[]);(0,l.useEffect)(()=>{d()},[d]),(0,l.useEffect)(()=>{T()},[T]),(0,l.useEffect)(()=>{let a=setInterval(()=>{y()&&d()},3e5);return()=>clearInterval(a)},[y,d]);let v=(a,t)=>{w(o=>({...o,[a]:t}))},S=({game:a})=>{let t=m(a.status,a.isCompleted),o=t==="live"?"live":t==="completed"?"completed":"scheduled";return(0,e.jsxs)("div",{className:`game-card ${o}`,children:[(0,e.jsxs)("div",{className:"game-header",children:[(0,e.jsx)("span",{className:"game-time",children:a.time}),(0,e.jsx)("span",{className:`game-status ${o}`,children:a.status})]}),(0,e.jsxs)("div",{className:"teams",children:[(0,e.jsxs)("div",{className:"team away-team",children:[(0,e.jsxs)("div",{className:"team-info",children:[(0,e.jsx)("img",{src:a.awayTeam.logo,alt:a.awayTeam.name,className:"team-logo",onError:c=>{c.target.src="/images/logos/default-logo.png"}}),(0,e.jsxs)("div",{className:"team-details",children:[(0,e.jsxs)("div",{className:"team-name",children:[a.awayTeam.rank&&(0,e.jsxs)("span",{className:"rank",children:["#",a.awayTeam.rank]}),a.awayTeam.shortName]}),(0,e.jsx)("div",{className:"team-conference",children:a.awayTeam.conference})]})]}),(0,e.jsx)("div",{className:"team-score",children:a.isCompleted||t==="live"?a.awayTeam.score:""})]}),(0,e.jsx)("div",{className:"vs-separator",children:"@"}),(0,e.jsxs)("div",{className:"team home-team",children:[(0,e.jsxs)("div",{className:"team-info",children:[(0,e.jsx)("img",{src:a.homeTeam.logo,alt:a.homeTeam.name,className:"team-logo",onError:c=>{c.target.src="/images/logos/default-logo.png"}}),(0,e.jsxs)("div",{className:"team-details",children:[(0,e.jsxs)("div",{className:"team-name",children:[a.homeTeam.rank&&(0,e.jsxs)("span",{className:"rank",children:["#",a.homeTeam.rank]}),a.homeTeam.shortName]}),(0,e.jsx)("div",{className:"team-conference",children:a.homeTeam.conference})]})]}),(0,e.jsx)("div",{className:"team-score",children:a.isCompleted||t==="live"?a.homeTeam.score:""})]})]}),(0,e.jsxs)("div",{className:"game-details",children:[(0,e.jsxs)("div",{className:"venue-info",children:[(0,e.jsx)("span",{className:"venue",children:a.venue}),(0,e.jsx)("span",{className:"location",children:a.location})]}),(0,e.jsxs)("div",{className:"broadcast-info",children:[(0,e.jsx)("span",{className:"tv",children:a.tv}),a.spread&&(0,e.jsx)("span",{className:"spread",children:a.spread})]})]})]})},A=({games:a})=>{let o=new Date(a[0]?.datetime||"").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,e.jsxs)("div",{className:"date-section",children:[(0,e.jsx)("h2",{className:"date-header",children:o}),(0,e.jsx)("div",{className:"games-grid",children:a.map(c=>(0,e.jsx)(S,{game:c},c.id))})]})},b=C(r);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"schedule-controls",children:[(0,e.jsxs)("div",{className:"filter-controls",children:[(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"week-filter",children:"Week"}),(0,e.jsxs)("select",{id:"week-filter",value:s.week,onChange:a=>v("week",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Weeks"}),n?.weeks?.map(a=>(0,e.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"conference-filter",children:"Conference"}),(0,e.jsxs)("select",{id:"conference-filter",value:s.conference,onChange:a=>v("conference",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Conferences"}),(0,e.jsx)("option",{value:"Big Ten",children:"Big Ten"}),(0,e.jsx)("option",{value:"SEC",children:"SEC"}),(0,e.jsx)("option",{value:"ACC",children:"ACC"}),(0,e.jsx)("option",{value:"Big 12",children:"Big 12"}),(0,e.jsx)("option",{value:"Pac-12",children:"Pac-12"}),(0,e.jsx)("option",{value:"Mountain West",children:"Mountain West"}),(0,e.jsx)("option",{value:"American Athletic",children:"American Athletic"}),(0,e.jsx)("option",{value:"Conference USA",children:"Conference USA"}),(0,e.jsx)("option",{value:"MAC",children:"MAC"}),(0,e.jsx)("option",{value:"Sun Belt",children:"Sun Belt"})]})]}),(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"status-filter",children:"Game Status"}),(0,e.jsxs)("select",{id:"status-filter",value:s.status,onChange:a=>v("status",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Games"}),(0,e.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,e.jsx)("option",{value:"live",children:"Live"}),(0,e.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,e.jsx)("div",{className:"filter-group",children:(0,e.jsxs)("label",{htmlFor:"ranked-filter",children:[(0,e.jsx)("input",{type:"checkbox",id:"ranked-filter",checked:s.rankedOnly,onChange:a=>v("rankedOnly",a.target.checked)}),"Ranked Teams Only"]})})]}),(0,e.jsxs)("div",{className:"refresh-controls",children:[(0,e.jsxs)("button",{id:"refresh-btn",className:"btn btn-primary",onClick:()=>d(),disabled:p,children:[(0,e.jsx)("span",{className:"refresh-icon",children:"\u{1F504}"})," Refresh"]}),n?.lastUpdated&&(0,e.jsxs)("span",{className:"last-updated",children:["Last updated: ",new Date(n.lastUpdated).toLocaleTimeString()]})]})]}),p&&(0,e.jsxs)("div",{className:"loading",children:[(0,e.jsx)("div",{className:"spinner"}),(0,e.jsx)("p",{children:"Loading schedule..."})]}),N&&(0,e.jsxs)("div",{className:"error-message",children:[(0,e.jsx)("p",{children:"\u26A0\uFE0F Unable to load schedule data"}),(0,e.jsx)("button",{id:"retry-btn",className:"btn",onClick:()=>d(),children:"Try Again"})]}),!p&&!N&&(0,e.jsx)("div",{id:"schedule-container",children:r.length===0?(0,e.jsx)("div",{className:"no-games",children:(0,e.jsx)("p",{children:"No games found matching your filters."})}):Object.keys(b).map(a=>(0,e.jsx)(A,{date:a,games:b[a]||[]},a))})]})},H=B;return R(U);})();
