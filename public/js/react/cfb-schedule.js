"use strict";var CFBScheduleApp=(()=>{var O=Object.create;var f=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty;var g=(s=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(s,{get:(i,l)=>(typeof require<"u"?require:i)[l]}):s)(function(s){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+s+'" is not supported')});var U=(s,i)=>{for(var l in i)f(s,l,{get:i[l],enumerable:!0})},S=(s,i,l,v)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of R(i))!H.call(s,n)&&n!==l&&f(s,n,{get:()=>i[n],enumerable:!(v=M(i,n))||v.enumerable});return s};var I=(s,i,l)=>(l=s!=null?O(B(s)):{},S(i||!s||!s.__esModule?f(l,"default",{value:s,enumerable:!0}):l,s)),j=s=>S(f({},"__esModule",{value:!0}),s);var x={};U(x,{default:()=>$});var P=I(g("react"),1),e=g("react/jsx-runtime"),{useState:m,useEffect:N,useCallback:u}=P,W=()=>{let[s,i]=m(null),[l,v]=m([]),[n,A]=m({week:"",conference:"",status:"",rankedOnly:!1}),[h,k]=m(!1),[y,T]=m(!1),d=u((a,t)=>t?"completed":a.includes("Q")||a.includes("Half")||a.includes("OT")?"live":"scheduled",[]),b=u(()=>l?l.some(a=>d(a.status,a.isCompleted)==="live"):!1,[l,d]),c=u(async()=>{k(!0),T(!1);try{let a=new URL("/api/cfb-schedule",window.location.origin);n.week&&a.searchParams.set("week",n.week);let t=await fetch(a);if(!t.ok)throw new Error(`HTTP ${t.status}`);let o=await t.json();i(o)}catch(a){console.error("Error loading schedule:",a),T(!0)}finally{k(!1)}},[n.week]),w=u(()=>{if(!s?.games)return;let a=s.games.filter(t=>!(n.week&&t.week.toString()!==n.week||n.conference&&!(t.homeTeam.conference===n.conference||t.awayTeam.conference===n.conference)||n.status&&d(t.status,t.isCompleted)!==n.status||n.rankedOnly&&!(t.homeTeam.rank||t.awayTeam.rank)));v(a)},[s,n,d]),E=u(a=>{let t={};return a.forEach(o=>{t[o.date]||(t[o.date]=[]);let r=t[o.date];r&&r.push(o)}),Object.keys(t).forEach(o=>{let r=t[o];r&&r.sort((D,L)=>new Date(D.datetime).getTime()-new Date(L.datetime).getTime())}),t},[]);N(()=>{c()},[c]),N(()=>{w()},[w]),N(()=>{let a=setInterval(()=>{b()&&c()},3e5);return()=>clearInterval(a)},[b,c]);let p=(a,t)=>{A(o=>({...o,[a]:t}))},F=({game:a})=>{let t=d(a.status,a.isCompleted),o=t==="live"?"live":t==="completed"?"completed":"scheduled";return(0,e.jsxs)("div",{className:`game-card ${o}`,children:[(0,e.jsxs)("div",{className:"game-header",children:[(0,e.jsx)("span",{className:"game-time",children:a.time}),(0,e.jsx)("span",{className:`game-status ${o}`,children:a.status})]}),(0,e.jsxs)("div",{className:"teams",children:[(0,e.jsxs)("div",{className:"team away-team",children:[(0,e.jsxs)("div",{className:"team-info",children:[(0,e.jsx)("img",{src:a.awayTeam.logo,alt:a.awayTeam.name,className:"team-logo",onError:r=>{r.target.src="/images/logos/default-logo.png"}}),(0,e.jsxs)("div",{className:"team-details",children:[(0,e.jsxs)("div",{className:"team-name",children:[a.awayTeam.rank&&(0,e.jsxs)("span",{className:"rank",children:["#",a.awayTeam.rank]}),a.awayTeam.shortName]}),(0,e.jsx)("div",{className:"team-conference",children:a.awayTeam.conference})]})]}),(0,e.jsx)("div",{className:"team-score",children:a.isCompleted||t==="live"?a.awayTeam.score:""})]}),(0,e.jsx)("div",{className:"vs-separator",children:"@"}),(0,e.jsxs)("div",{className:"team home-team",children:[(0,e.jsxs)("div",{className:"team-info",children:[(0,e.jsx)("img",{src:a.homeTeam.logo,alt:a.homeTeam.name,className:"team-logo",onError:r=>{r.target.src="/images/logos/default-logo.png"}}),(0,e.jsxs)("div",{className:"team-details",children:[(0,e.jsxs)("div",{className:"team-name",children:[a.homeTeam.rank&&(0,e.jsxs)("span",{className:"rank",children:["#",a.homeTeam.rank]}),a.homeTeam.shortName]}),(0,e.jsx)("div",{className:"team-conference",children:a.homeTeam.conference})]})]}),(0,e.jsx)("div",{className:"team-score",children:a.isCompleted||t==="live"?a.homeTeam.score:""})]})]}),(0,e.jsxs)("div",{className:"game-details",children:[(0,e.jsxs)("div",{className:"venue-info",children:[(0,e.jsx)("span",{className:"venue",children:a.venue}),(0,e.jsx)("span",{className:"location",children:a.location})]}),(0,e.jsxs)("div",{className:"broadcast-info",children:[(0,e.jsx)("span",{className:"tv",children:a.tv}),a.spread&&(0,e.jsx)("span",{className:"spread",children:a.spread})]})]})]})},G=({games:a})=>{let o=new Date(a[0]?.datetime||"").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,e.jsxs)("div",{className:"date-section",children:[(0,e.jsx)("h2",{className:"date-header",children:o}),(0,e.jsx)("div",{className:"games-grid",children:a.map(r=>(0,e.jsx)(F,{game:r},r.id))})]})},C=E(l);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"schedule-controls",children:[(0,e.jsxs)("div",{className:"filter-controls",children:[(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"week-filter",children:"Week"}),(0,e.jsxs)("select",{id:"week-filter",value:n.week,onChange:a=>p("week",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Weeks"}),s?.weeks?.map(a=>(0,e.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"conference-filter",children:"Conference"}),(0,e.jsxs)("select",{id:"conference-filter",value:n.conference,onChange:a=>p("conference",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Conferences"}),(0,e.jsx)("option",{value:"Big Ten",children:"Big Ten"}),(0,e.jsx)("option",{value:"SEC",children:"SEC"}),(0,e.jsx)("option",{value:"ACC",children:"ACC"}),(0,e.jsx)("option",{value:"Big 12",children:"Big 12"}),(0,e.jsx)("option",{value:"Pac-12",children:"Pac-12"}),(0,e.jsx)("option",{value:"Mountain West",children:"Mountain West"}),(0,e.jsx)("option",{value:"American Athletic",children:"American Athletic"}),(0,e.jsx)("option",{value:"Conference USA",children:"Conference USA"}),(0,e.jsx)("option",{value:"MAC",children:"MAC"}),(0,e.jsx)("option",{value:"Sun Belt",children:"Sun Belt"})]})]}),(0,e.jsxs)("div",{className:"filter-group",children:[(0,e.jsx)("label",{htmlFor:"status-filter",children:"Game Status"}),(0,e.jsxs)("select",{id:"status-filter",value:n.status,onChange:a=>p("status",a.target.value),children:[(0,e.jsx)("option",{value:"",children:"All Games"}),(0,e.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,e.jsx)("option",{value:"live",children:"Live"}),(0,e.jsx)("option",{value:"completed",children:"Completed"})]})]}),(0,e.jsx)("div",{className:"filter-group",children:(0,e.jsxs)("label",{htmlFor:"ranked-filter",children:[(0,e.jsx)("input",{type:"checkbox",id:"ranked-filter",checked:n.rankedOnly,onChange:a=>p("rankedOnly",a.target.checked)}),"Ranked Teams Only"]})})]}),(0,e.jsxs)("div",{className:"refresh-controls",children:[(0,e.jsxs)("button",{id:"refresh-btn",className:"btn btn-primary",onClick:()=>c(),disabled:h,children:[(0,e.jsx)("span",{className:"refresh-icon",children:"\u{1F504}"})," Refresh"]}),s?.lastUpdated&&(0,e.jsxs)("span",{className:"last-updated",children:["Last updated: ",new Date(s.lastUpdated).toLocaleTimeString()]})]})]}),h&&(0,e.jsxs)("div",{className:"loading",children:[(0,e.jsx)("div",{className:"spinner"}),(0,e.jsx)("p",{children:"Loading schedule..."})]}),y&&(0,e.jsxs)("div",{className:"error-message",children:[(0,e.jsx)("p",{children:"\u26A0\uFE0F Unable to load schedule data"}),(0,e.jsx)("button",{id:"retry-btn",className:"btn",onClick:()=>c(),children:"Try Again"})]}),!h&&!y&&(0,e.jsx)("div",{id:"schedule-container",children:l.length===0?(0,e.jsx)("div",{className:"no-games",children:(0,e.jsx)("p",{children:"No games found matching your filters."})}):Object.keys(C).map(a=>(0,e.jsx)(G,{date:a,games:C[a]||[]},a))})]})},$=W;return j(x);})();
window.CFBScheduleComponent = CFBScheduleApp;
